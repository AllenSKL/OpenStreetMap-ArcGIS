<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Extended workflow - OpenStreetMap for ArcGIS</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">OpenStreetMap for ArcGIS</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Workflow <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../simplified/">Simplified workflow</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Extended workflow</a>
                        </li>
                    
                        <li >
                            <a href="../network/">Network</a>
                        </li>
                    
                        <li >
                            <a href="../troubleshooting/">Troubleshooting</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Download <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../download/editor/">OpenStreetMap Editor</a>
                        </li>
                    
                        <li >
                            <a href="../../download/toolbox/">GASC Tools</a>
                        </li>
                    
                        <li >
                            <a href="../../download/styles/">Styles</a>
                        </li>
                    
                        <li >
                            <a href="../../download/layers/">Layers</a>
                        </li>
                    
                        <li >
                            <a href="../../download/data/">Data</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../about/licence/">Licence</a>
                        </li>
                    
                        <li >
                            <a href="../../about/releasenotes/">Release Notes</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../simplified/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../network/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/GASCUK/OpenStreetMap-ArcGIS">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#extended-workflow">Extended workflow</a></li>
        
            <li><a href="#openstreetmap-editor-for-arcgis">OpenStreetMap Editor for ArcGIS</a></li>
        
            <li><a href="#downloading-the-data">Downloading the data</a></li>
        
            <li><a href="#processing-the-data">Processing the data</a></li>
        
            <li><a href="#completing-the-data-set">Completing the data set</a></li>
        
            <li><a href="#displaying-the-data-in-arcmap">Displaying the data in ArcMap</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h2 id="extended-workflow">Extended workflow</h2>
<p>This workflow is a detailed step by step guide to to display OpenStreetMap (OSM) data using the layers and stylesheet provided in this repository. It is 
designed to optimise the speed at which the data is processed and displayed in ArcGIS. It uses the tools provided in the OpenStreetMap Editor for ArcGIS 
toolbox and gives detailed information on exactly what needs to be input for each tool to work correctly.</p>
<p>For a more simplified approach using a custom built model, see the <a href="../simplified/">simplified workflow</a>.</p>
<h3 id="openstreetmap-editor-for-arcgis">OpenStreetMap Editor for ArcGIS</h3>
<p>Ensure the correct version of the OpenStreetMap Editor for ArcGIS is installed, <a href="../../download/editor/">here</a></p>
<h3 id="downloading-the-data">Downloading the data</h3>
<ol>
<li>
<p>Download the raw OSM data for the area of interest from <a href="http://download.geofabrik.de/">Geofabrik</a>:</p>
<ol>
<li>
<p>Download the .bz2 compressed OSM file.</p>
</li>
<li>
<p>Unzip the .bz2 file.</p>
</li>
</ol>
</li>
</ol>
<p><em><strong>Important:</strong> The OSM world dataset is so large now that the file geodatabase model is insufficient to store the planet dataset. Smaller geographies - 
continents, countries - are OK. Therefore, it is recommended that you load the smallest .osm file that meets your needs.</em></p>
<h3 id="processing-the-data">Processing the data</h3>
<ol>
<li>
<p>In ArcCatalog, open the <strong>Load OSM File</strong> tool in the <em>ArcGIS Editor for OpenStreetMap</em> toolset, located in <em>System Toolboxes</em> in ArcGIS:</p>
<p><img alt="Load OSM tool" src="https://raw.githubusercontent.com/GASCUK/OpenStreetMap-ArcGIS/master/Images/LoadOSMFile.png" /></p>
<ol>
<li>
<p>Select the unzipped .osm file as the <em>OSM File</em>.</p>
</li>
<li>
<p>Create a file geodatabase in your workspace and name the <em>Target feature dataset</em> witin it "planet".</p>
</li>
<li>
<p>Expand the optional <em>Adjust Input Schema</em> parameter and add the following OSM tag keys to schema:</p>
<ul>
<li>admin_level</li>
<li>bridge</li>
<li>content</li>
<li>craft</li>
<li>drinking_water</li>
<li>emergency</li>
<li>ford</li>
<li>generator:source</li>
<li>maritime</li>
<li>name</li>
<li>name:en</li>
<li>office</li>
<li>oneway</li>
<li>pump</li>
<li>ref</li>
<li>religion</li>
<li>seasonal</li>
<li>tower:type</li>
<li>tunnel</li>
<li>The following tags are optional. They are required for a network dataset. Adding these tags at this stage speeds up the creation of the 
network dataset if it is required:<ul>
<li>access</li>
<li>construct</li>
<li>maxheight</li>
<li>maxspeed</li>
<li>proposed</li>
<li>smoothness</li>
<li>surface</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Running this tool results in a feature dataset in the selected file gdb called planet containing three feature classes; planet_osm_ln, planet_osm_ply 
and planet_osm_pt.</p>
</li>
</ol>
</li>
<li>
<p>If a network dataset is required, see <a href="../network/">here</a> for information on this step.</p>
</li>
<li>
<p>In ArcCatalog, use the <strong>OSM Attribute Selector</strong> tool in the <em>ArcGIS Editor for OpenStreetMap</em> toolset on each of the three feature classes in turn 
to extract OSM keys from the tag collection and store them as standalone attributes:
    <img alt="OSM Attribute Selector tool" src="https://raw.githubusercontent.com/GASCUK/OpenStreetMap-ArcGIS/master/Images/OSMAttributeSelector.png" /></p>
<ol>
<li>Select 'EXISTING_TAG_FIELDS' in the <em>OSM Tag Keys</em> parameter and run the tool.
<p></li>
</ol>
</li>
<li>
<p>Create attribute indexes for each of the three feature classes within the planet feature dataset:</p>
<ol>
<li>In ArcCatalog, run the <strong>Add Index Attributes</strong> tool on each of the feature classes and select the following for each individual one:<ul>
<li><strong>planet_osm_ln</strong>: aeroway, barrier, highway, osm_bridge, osm_ford, osm_seasonal, osmSupportingElement, power, railway, route, waterway.</li>
<li><strong>planet_osm_ply</strong>: aeroway, amenity, building, highway, landuse, leisure, man_made, natural, osmSupportingElement, tourism, waterway.</li>
<li><strong>planet_osm_pt</strong>: amenity, barrier, highway, leisure, man_made, natural, osm_admin_level, osm_content, osm_craft, osm_drinking_water, osm_emergency, 
osm_generator_58_source, osm_office, osm_pump, osm_religion, osm_tower_58_type, osmSupportingElement, place, power, shop, tourism.</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="completing-the-data-set">Completing the data set</h3>
<ol>
<li>Add the <a href="../../download/data/">Natural Earth bathymetry data</a> and the <a href="../../download/data/">OSM dissolved land polygon</a> to the file geodatabase alongside 
the processed OSM data.</li>
</ol>
<h3 id="displaying-the-data-in-arcmap">Displaying the data in ArcMap</h3>
<ol>
<li>
<p>Download the Humanitarian OSM <a href="../../download/styles/">stylesheet</a>.</p>
</li>
<li>
<p>Open ArcMap and add the stylesheet: <em>Customize &gt; Style Manager &gt; Styles... &gt; Add Style to List...</em></p>
</li>
<li>
<p>Download and unzip the <a href="../../download/layers/">layers</a> and add them to a new, blank MXD.</p>
</li>
<li>
<p>Arrange the layers in numerical order with the land and bathymetry layers at the bottom of the list:</p>
</li>
<li>
<p>Close ArcMap. Open ArcCatalog and set the MXD data source to the file geodatabase containing the processed OSM data.</p>
</li>
<li>
<p>Reopen the MXD in ArcMap to view the symbolised OSM data.</p>
</li>
</ol></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>